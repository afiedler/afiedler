<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Andy Fiedler &middot; 
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha256-3dkvEK0WLHRJ7/Csr0BZjAWxERc5WH7bdeUya2aXxdU= sha512-+L4yy6FRcDGbXJ9mPG8MT/3UCDzwR9gPeyFNMCtInsol++5m3bk2bXWKdZjvybmohrAsn3Ua5x8gfLnbE1YkOg==" crossorigin="anonymous">

  <!-- Icons -->

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- JS -->
  <script>
    // Picture element HTML5 shiv
    document.createElement( "picture" );
  </script>
  <script async src="/public/js/picturefill.min.js"></script>
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Andy Fiedler
        </a>
      </h1>
      <p class="lead"></p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
            
              <a class="sidebar-nav-item" href="/projects/">Projects</a>
            
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

    </nav>

    <div class="sidebar-footer">
      <p>&copy; 2016 <a href="https://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC</a>.</p>
    </div>
  </div>
</div>


    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2014/01/tech-predictions-for-2014">
        Tech Predictions for 2014
      </a>
    </h1>

    <span class="post-date">28 Jan 2014</span>

    <p>This is a just a bunch of fun tech predictions for 2014. I can’t claim any insider knowledge, but it will be interesting to look back on them at the end of the year to see what the outcomes are!</p>
<h2>Bitcoin will become "legitimate", but not widespread</h2>
<p>In 2014, regulators will likely issue guidance on how exactly companies and people can deal in Bitcoin without running afoul of anti-money laundering and money transmitter regulations, and how it is to be taxed. This will “legitimize” Bitcoin, but because of the difficulty of using the cryptocurrency and the insane <a title="Bitcoin Volatility - Business Insider" href="http://www.businessinsider.com/bitcoin-volatility-2013-12" target="_blank">amount of volatility of Bitcoin</a> against fiat money, it will not become mainstream in 2014. Instead, Bitcoin will be relegated to particular types of transactions that the mainstream banks are either not accepting (due to the high probability of fraud or high compliance costs) or are charging exorbitant fees to facilitate. These will likely be cross-border transactions, especially in countries with capital controls (Argentina), <a title="Banks Say No to Marijuana Money, Legal or Not - NY Times" href="http://www.nytimes.com/2014/01/12/us/banks-say-no-to-marijuana-money-legal-or-not.html" target="_blank">legally grey-area transactions</a>, or transactions that the major payment processors don’t accept.</p>
<h2>Docker plus Deis or Flynn will result in an "open-source Heroku" and lots of dev-ops innovation</h2>
<p>Heroku is probably one of the biggest dev-ops innovations in the last five years, making it vastly easier to deploy web applications, freeing development teams to actually build applications instead of focusing on DevOps. Heroku’s <a href="http://12factor.net">12 Factor App</a> architecture is now widely used and 2014 will see that continuing. However, Heroku has a few problems.</p>

<p>First, There currently isn’t a good way to “build your own Heroku” out of open source components. If Heroku is too constraining, you are forced to spin up your own servers on Amazon Web Services for part of your application, which eliminates lots of the advantages Heroku brings to the table. Last year there was a ton of excitement about Linux containers (LXC) and Docker, which is abstraction on top of LXC that makes them easier to manage. Both Heroku and Google Cloud use Linux containers internally, but they are closed-source implementations. Docker will likely begin to change that this year.</p>

<p>However, Docker alone is not a Heroku replacement. Much of the innovation in Heroku lies in the build packs and routing mesh, which Docker does not provide. Two other open source projects aim to become that layer on top of Docker, and these are the ones I’m most excited to watch. The first is <a href="http://deis.io/" target="_blank">Deis</a>, which seems to be the furthest along in creating an open-source Heroku. Deis has both a routing mesh and an application layer created as well as scripts to automatically scale your “personal Heroku” on AWS, Digital Ocean and Rackspace. Flynn has many of the same goals, but doesn’t appear to be as far along. Deis has commercial support from Opsware, while <a href="https://flynn.io/" target="_blank">Flynn is raising money Kickstarter-style</a> to build out their platform. In any case, while Heroku is great, it is very exciting to see open source competitors come to the scene.</p>
<h2>AngularJS and EmberJS will win the front-end wars for web apps</h2>
<p>For highly interactive web apps, both AngularJS and EmberJS will become the clear choices in 2014. Backbone, Knockout and other front-end JS frameworks will see declining usage simply because they don’t provide as much of a framework as AngularJS or EmberJS. For new sites except for “CMS-like” apps, people will stop generating HTML on the server and push the page rendering to Javascript on the browser. Because of this, back-end frameworks will pivot towards being better REST API servers and focus less on their HTML template rendering abilities. The wildcard is “CMS-style” sites that need to be indexed by Google. While Google’s crawler can execute Javascript, content-heavy sites will still need a mechanism to serve HTML from the server for reliable SEO. This means that full-stack Rails apps will still be important in 2014. I think the writing is on the wall for this kind of app, however.</p>
<h2>Mobile will continue to be "write twice" for the highest quality</h2>
<p>Unfortunately, while HTML5 is great, it still won’t deliver the highest quality apps on mobile in 2014. As a cost-saving measure, or for apps that don’t need lots of interaction, HTML5 will be a viable choice. However, to create the highest-quality mobile apps in 2014, we’ll still need to write them twice: once for Android and once for iOS.</p>
<h2>Wearable tech won’t be mainstream; in fact, society will push back from being "always connected"</h2>
<p>Google Glass and the like will remain curiosities and not mainstream. In fact, I think that people are beginning to push back from being always connected to the Internet. Smartphone usage in many social situations is become a faux pas and the word <a title="I, Glasshole" href="http://www.wired.com/gadgetlab/2013/12/glasshole/" target="_blank">“glassholes”</a> has already been coined for people that wear Google Glass in public. That being said, we will see the Internet smartly integrated into more consumer products, including continued innovation in automobile technology and home automation. The key for the “Internet of things” in 2014 will be <i>unobtrusive, discrete, and large value-add</i>, which probably isn’t wearable technology in its current form.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2013/08/motorcycling-in-laos">
        Motorcycling in Laos
      </a>
    </h1>

    <span class="post-date">13 Aug 2013</span>

    <p>Last month I spent a week motorcycling around Laos with a friend, starting at the capital and heading north through probably one of the most scenic parts of Southeast Asia. This is still a fairly undeveloped part of the world, meaning empty roads, not many other tourists, and an unspoiled landscape. It also means the logistics of this trip were not easy, but the ride was definitely worth it. If you are interested in doing a trip like this, read on!</p>
<h2>Preparing for the trip</h2>
<p>Roads in Laos range from two lanes and decent blacktop on the main highways to muddy dirt tracks in the villages, so you will want to be a fairly proficient rider with at least some dirt biking experience before you go. We went early in the rainy season, which contributed to the mud, but even in the dry season, a lot of the smaller roads will require some dirt riding skills.</p>

<p>The two most sensible starting points for a trip like this are the capital, Vientiane, and Luang Prabang, a UNESCO World Heritage Town about 340km to the north. Both cities have international airports, but they are very small, so expect to fly through a major Asian hub like Bangkok or Seoul if coming from the U.S. or Europe. You can also take a bus from Thailand, Cambodia or Vietnam if you are already in Southeast Asia, but expect it to be an overnight bus (12 hours+) on mountainous, winding roads.</p>
<h2>Renting bikes</h2>
<p>We rented a Honda CRF250 and CRF230 from <a title="Remote Asia Outfitters" href="http://remoteasia.com" target="_blank">Remote Asia</a> in Vientiane, who were excellent. The bikes were in great shape and Jim from Remote Asia was very helpful when we had a minor mishap (I lost an ignition key to my bike!). You really will want to rent bikes from someone who can also provide a cell phone and “roadside assistance”, and by that I mean basically translating via cell phone and recommending mechanics. English is not widely spoken in Laos and emergency services are non-existent, so you will want an English speaking contact in-country from your rental agency.</p>

<p>We had no issues with Laotian police (in fact we did not see any outside of Vientiane), so it would seem that you don’t strictly need an International Drivers License or a motorcycle license at all. Your rental bike should come with a Laotian number plate and turn signals, and riding with a headlight during the day is apparently illegal so should be avoided.</p>
<h2>The route</h2>
<p>Laos has a few excellent motorcycle routes, and the one we took seems to be the most popular. You can order an excellent map of Laos with elevation profiles, road conditions, and city maps from GT Rider in Thailand <a href="http://www.gt-rider.com/maps-of-thailand-laos-maps/laos-guide-map" target="_blank">here</a>. This route took us 6 days of riding at a fairly leisurely pace. There are three long days of riding (over 150km) and one day each spent in Vang Vieng, Ponsavan, and Luang Prabang that you can use to explore the area surrounding these cities.</p>

<p>In addition to the GT Rider map, you should also get an Open Street Map app for your smart phone. OSM actually had pretty good coverage of Laos, including some of the caves and waterfalls outside of the cities. For Android, try <a href="https://play.google.com/store/apps/details?id=net.osmand">OSMAnd</a>, which lets you download country maps for offline use.</p>

<p>Here’s a map of the route we took and details of each leg.</p>

<iframe src="https://maps.google.com/maps/ms?msa=0&amp;msid=213059449424618329795.0004e1d4c6c3d82758c09&amp;ie=UTF8&amp;t=p&amp;ll=18.921876,102.661743&amp;spn=2.494061,3.515625&amp;z=8&amp;output=embed" width="640" height="480" scrolling="no" frameborder="0" securitykey="da39a3ee5e6b4b0d3255bfef95601890afd80709"></iframe>

<p> </p>
<h3>Vientiane to Vang Vieng, 154km</h3>
<picture>
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_134937-1050by788-79b4b6.jpg" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_134937-700by525-79b4b6.jpg" media="(min-width: 40em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_134937-675by506-79b4b6.jpg" media="(min-width: 30em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 30em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_134937-450by338-79b4b6.jpg" media="(min-width: 30em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_134937-525by300-79b4b6.jpg" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_134937-350by200-79b4b6.jpg" />
    <img src="/generated/wp/uploads/2013/08/IMG_20130712_134937-350by200-79b4b6.jpg" class="blog-full" itemprop="image" />
  </picture>

<picture>
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_145318-1050by788-ea497f.jpg" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_145318-700by525-ea497f.jpg" media="(min-width: 40em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_145318-675by506-ea497f.jpg" media="(min-width: 30em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 30em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_145318-450by338-ea497f.jpg" media="(min-width: 30em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_145318-525by300-ea497f.jpg" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_145318-350by200-ea497f.jpg" />
    <img src="/generated/wp/uploads/2013/08/IMG_20130712_145318-350by200-ea497f.jpg" class="blog-full" itemprop="image" />
  </picture>

<picture>
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_124142-1050by1400-2c318b.jpg" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_124142-700by933-2c318b.jpg" media="(min-width: 40em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_124142-675by900-2c318b.jpg" media="(min-width: 30em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 30em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_124142-450by600-2c318b.jpg" media="(min-width: 30em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_124142-525by300-2c318b.jpg" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130712_124142-350by200-2c318b.jpg" />
    <img src="/generated/wp/uploads/2013/08/IMG_20130712_124142-350by200-2c318b.jpg" class="blog-full" itemprop="image" />
  </picture>

<p>If picking up your bikes in Vientiane, likely your first stop will be <a href="http://en.wikipedia.org/wiki/Vang_Vieng" target="_blank">Vang Vieng</a>. The ride to Vang Vieng is 154 km and fairly easy and flat until the last 50km or so where there are some small hills. Leaving Vientiane is where you will probably encounter the most traffic of the trip (not much!), but within 50km, it drops off a lot.</p>

<p>Vang Vieng is a tourist town along the Nam Song river with lots of caving, waterfalls, and rafting available nearby. It is definitely worth at least one whole day exploring outside of the town. I think of the three towns we visited, Vang Vieng had the most spectacular scenery. The town is surrounded by a dramatic <a href="http://en.wikipedia.org/wiki/Karst_topography">karst landscape</a> that is even more surreal in the rainy season when the peaks are surrounded in fog. In Vang Vieng, we went to a cave, waterfall and “blue lagoon” (swimming hole) on our one full day there. These were all found on dirt paths leading out from the town, for which Open Street Map was a real help locating.</p>
<h3>Vang Vieng to Ponsavan, 233km</h3>
<picture>
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130713_074030-1050by1400-b8a7ec.jpg" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130713_074030-700by933-b8a7ec.jpg" media="(min-width: 40em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130713_074030-675by900-b8a7ec.jpg" media="(min-width: 30em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 30em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130713_074030-450by600-b8a7ec.jpg" media="(min-width: 30em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130713_074030-525by300-b8a7ec.jpg" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130713_074030-350by200-b8a7ec.jpg" />
    <img src="/generated/wp/uploads/2013/08/IMG_20130713_074030-350by200-b8a7ec.jpg" class="blog-full" itemprop="image" />
  </picture>

<picture>
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130714_074338-1050by788-f3806b.jpg" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130714_074338-700by525-f3806b.jpg" media="(min-width: 40em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130714_074338-675by506-f3806b.jpg" media="(min-width: 30em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 30em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130714_074338-450by338-f3806b.jpg" media="(min-width: 30em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130714_074338-525by300-f3806b.jpg" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130714_074338-350by200-f3806b.jpg" />
    <img src="/generated/wp/uploads/2013/08/IMG_20130714_074338-350by200-f3806b.jpg" class="blog-full" itemprop="image" />
  </picture>

<picture>
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130713_142645-1050by788-4b243a.jpg" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130713_142645-700by525-4b243a.jpg" media="(min-width: 40em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130713_142645-675by506-4b243a.jpg" media="(min-width: 30em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 30em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130713_142645-450by338-4b243a.jpg" media="(min-width: 30em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130713_142645-525by300-4b243a.jpg" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130713_142645-350by200-4b243a.jpg" />
    <img src="/generated/wp/uploads/2013/08/IMG_20130713_142645-350by200-4b243a.jpg" class="blog-full" itemprop="image" />
  </picture>

<p>The second long day of riding, Vang Vieng to Ponsavan, is 233 km of challenging riding with tons of very steep switchbacks and incredible views of some of the highest peaks in Laos. On this part of the ride, you are heading to <a href="http://wikitravel.org/en/Phonsavan">Ponsavan</a>, which is the capital of the providence containing the <a href="http://wikitravel.org/en/Plain_of_Jars">Plain of Jars</a>, a neolithic archeological site with large stone jars (some over 4 feet tall). The Plain of Jars was also bombed heavily during the Vietnam War as part of the CIA’s covert war in Laos, so there is lots of war history in this area as well. Ponsavan has a few NGOs operating to clear unexploded ordinance that have interesting exhibits in the town on the war.</p>
<h3>Ponsavan to Luang Prabang, 259km</h3>
<picture>
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130715_111204-1050by788-b9e7f8.jpg" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130715_111204-700by525-b9e7f8.jpg" media="(min-width: 40em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130715_111204-675by506-b9e7f8.jpg" media="(min-width: 30em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 30em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130715_111204-450by338-b9e7f8.jpg" media="(min-width: 30em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130715_111204-525by300-b9e7f8.jpg" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130715_111204-350by200-b9e7f8.jpg" />
    <img src="/generated/wp/uploads/2013/08/IMG_20130715_111204-350by200-b9e7f8.jpg" class="blog-full" itemprop="image" />
  </picture>

<picture>
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130718_143756-1050by788-927e4d.jpg" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130718_143756-700by525-927e4d.jpg" media="(min-width: 40em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130718_143756-675by506-927e4d.jpg" media="(min-width: 30em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 30em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130718_143756-450by338-927e4d.jpg" media="(min-width: 30em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130718_143756-525by300-927e4d.jpg" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130718_143756-350by200-927e4d.jpg" />
    <img src="/generated/wp/uploads/2013/08/IMG_20130718_143756-350by200-927e4d.jpg" class="blog-full" itemprop="image" />
  </picture>

<picture>
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130716_083641-1050by788-7014f0.jpg" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130716_083641-700by525-7014f0.jpg" media="(min-width: 40em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130716_083641-675by506-7014f0.jpg" media="(min-width: 30em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 30em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130716_083641-450by338-7014f0.jpg" media="(min-width: 30em)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130716_083641-525by300-7014f0.jpg" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/IMG_20130716_083641-350by200-7014f0.jpg" />
    <img src="/generated/wp/uploads/2013/08/IMG_20130716_083641-350by200-7014f0.jpg" class="blog-full" itemprop="image" />
  </picture>

<p>The last long day of riding will take you 259 km from Ponsavan to Luang Prabang (backtracking to Pho Khoun, then north to Luang Prabang). Backtracking in this way isn’t all that bad because the scenery and riding is so great heading from Pho Khoun to Ponsavan, you’ll have no problem doing it twice.</p>

<p>Pho Khoun makes a good stopping place for lunch, as its about at the midpoint of this ride and there are a few places to refuel and grab lunch. From Pho Khoun, you’ll have similar riding (and that’s to say great!) to Luang Prabang.</p>

<p><a href="http://wikitravel.org/en/Luang_Prabang">Luang Prabang</a> is a UNESCO World Heritage Site and has by far the best developed tourist infrastructure of the three cities we visited. Luang Prabang is at the intersection of the Mekong River and the Nam Khan River and has a large temple in the center of the city with great views of both rivers. There are waterfalls about 20km outside of town as well as rafting, elephant tours, and kayaking if you choose to stay here for a few days.</p>

<picture>
    <source srcset="/generated/wp/uploads/2013/08/laos_ride_profile-1050by715-c872f4.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/laos_ride_profile-700by476-c872f4.png" media="(min-width: 40em)" />
    <source srcset="/generated/wp/uploads/2013/08/laos_ride_profile-675by459-c872f4.png" media="(min-width: 30em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 30em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/laos_ride_profile-450by306-c872f4.png" media="(min-width: 30em)" />
    <source srcset="/generated/wp/uploads/2013/08/laos_ride_profile-525by300-c872f4.png" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2013/08/laos_ride_profile-350by200-c872f4.png" />
    <img src="/generated/wp/uploads/2013/08/laos_ride_profile-350by200-c872f4.png" class="blog-full" itemprop="image" />
  </picture>


  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/08/using-nginx-to-proxy-tilestache">
        Using NGINX to proxy TileStache 
      </a>
    </h1>

    <span class="post-date">30 Aug 2012</span>

    <p>I'm working on a re-rendering of OpenStreetMap for hiking, with hill shading and topographic lines and I decided to use TileStache to render the tiles. TileStache has the nice ability to render tiles from a bunch of different sources and then overlay them with different amounts of transparency and layer masks (just like Photoshop). TileStache is a Python WSGI server that you can run in mod_python or GUnicorn to serve tiles directly over HTTP. TileStache can cache map tiles to the file system and serve the static PNGs if they exist or render them from scratch using Mapnik if they don't. Its pretty fast, especially if the tiles are pre-rendered.</p>
<p>However, GUnicorn is a pre-forking server. This means that it needs to fork a different process for each client connection. What happens if a slow client connects is that TileStache processes are rapidly used up to serve that client (typically clients make up to 8 separate HTTP connections for slippy maps, resulting in 8 processes each!). This is the case even if the tiles are being served from cache.</p>
<p>What you need to do is add a reverse proxy in front of GUnicorn, using something like NGINX. The reverse proxy using an evented IO model, which enables it to manage sending data back to a slow client without using an operating system process. NGINX can also directly serve static assets from the filesystem, which means we can serve the cached tiles without even hitting GUnicorn&#47;TileStache.</p>
<p>Getting this to work requires a bit of NGINX HttpRewriteModule voodoo, though. The issue is that TileStache saves cached tiles in a slightly different path than the URI path that comes in via HTTP. Say you have a OpenStreetMap-style URL like this: <code>myserver.com&#47;tiles&#47;layer&#47;$z&#47;$x&#47;$y.png&lt;&#47;code&gt;. In this URL, <code>$z&lt;&#47;code&gt; is zoom level (usually 1-19), and <code>$x&lt;&#47;code&gt; and <code>$y&lt;&#47;code&gt; are tile coordinates. For higher zoom levels, you can have 10,000+ by 10,0000+ tiles in the x and y directions. That's way too many PNG files to store in one folder on the filesystem. So, TileStache splits up the x and y paths into two levels. Say you have a URL like <code>&#47;tiles&#47;layer&#47;7&#47;12345&#47;67890.png&lt;&#47;code&gt;. TileStache will store that in the filesystem path <code>&#47;tiles&#47;layer&#47;7&#47;012&#47;345&#47;067&#47;890.png&lt;&#47;code&gt;. Notice how 12345 is broken into 012&#47;345? That means that there will be at most 1,000 files or folders in each directory&mdash;a manageable amount. The issue is we need to get NGINX to rewrite URLs to server these static assets. Here's how I accomplished that:
<pre class="lang:default highlight:0 decode:true" title="Main NGINX location directive">	location ~ ^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]+)\&#47;([\d]+)\.png {<br />
		root &#47;osm&#47;cache;
<p>		set $originaluri &#47;$1&#47;$2&#47;$3&#47;$4.png;</p>
<p>		# 1 char X<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{1})\&#47;([\d]{1}).png$" &#47;$1&#47;$2&#47;000&#47;00$3&#47;000&#47;00$4.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{1})\&#47;([\d]{2}).png$" &#47;$1&#47;$2&#47;000&#47;00$3&#47;000&#47;0$4.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{1})\&#47;([\d]{3}).png$" &#47;$1&#47;$2&#47;000&#47;00$3&#47;000&#47;$4.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{1})\&#47;([\d]{1})([\d]{3}).png$" &#47;$1&#47;$2&#47;000&#47;00$3&#47;00$4&#47;$5.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{1})\&#47;([\d]{2})([\d]{3}).png$" &#47;$1&#47;$2&#47;000&#47;00$3&#47;0$4&#47;$5.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{1})\&#47;([\d]{3})([\d]{3}).png$" &#47;$1&#47;$2&#47;000&#47;00$3&#47;$4&#47;$5.png break;</p>
<p>		# 2 char X<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{2})\&#47;([\d]{1}).png$" &#47;$1&#47;$2&#47;000&#47;0$3&#47;000&#47;00$4.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{2})\&#47;([\d]{2}).png$" &#47;$1&#47;$2&#47;000&#47;0$3&#47;000&#47;0$4.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{2})\&#47;([\d]{3}).png$" &#47;$1&#47;$2&#47;000&#47;0$3&#47;000&#47;$4.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{2})\&#47;([\d]{1})([\d]{3}).png$" &#47;$1&#47;$2&#47;000&#47;0$3&#47;00$4&#47;$5.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{2})\&#47;([\d]{2})([\d]{3}).png$" &#47;$1&#47;$2&#47;000&#47;0$3&#47;0$4&#47;$5.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{2})\&#47;([\d]{3})([\d]{3}).png$" &#47;$1&#47;$2&#47;000&#47;0$3&#47;$4&#47;$5.png break;</p>
<p>		# 3 char X<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{3})\&#47;([\d]{1}).png$" &#47;$1&#47;$2&#47;000&#47;$3&#47;000&#47;00$4.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{3})\&#47;([\d]{2}).png$" &#47;$1&#47;$2&#47;000&#47;$3&#47;000&#47;0$4.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{3})\&#47;([\d]{3}).png$" &#47;$1&#47;$2&#47;000&#47;$3&#47;000&#47;$4.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{3})\&#47;([\d]{1})([\d]{3}).png$" &#47;$1&#47;$2&#47;000&#47;$3&#47;00$4&#47;$5.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{3})\&#47;([\d]{2})([\d]{3}).png$" &#47;$1&#47;$2&#47;000&#47;$3&#47;0$4&#47;$5.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{3})\&#47;([\d]{3})([\d]{3}).png$" &#47;$1&#47;$2&#47;000&#47;$3&#47;$4&#47;$5.png break;</p>
<p>		# 4 char X<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{1})([\d]{3})\&#47;([\d]{1}).png$" &#47;$1&#47;$2&#47;00$3&#47;$4&#47;000&#47;00$5.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{1})([\d]{3})\&#47;([\d]{2}).png$" &#47;$1&#47;$2&#47;00$3&#47;$4&#47;000&#47;0$5.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{1})([\d]{3})\&#47;([\d]{3}).png$" &#47;$1&#47;$2&#47;00$3&#47;$4&#47;000&#47;$5.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{1})([\d]{3})\&#47;([\d]{1})([\d]{3}).png$" &#47;$1&#47;$2&#47;00$3&#47;$4&#47;00$5&#47;$6.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{1})([\d]{3})\&#47;([\d]{2})([\d]{3}).png$" &#47;$1&#47;$2&#47;00$3&#47;$4&#47;0$5&#47;$6.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{1})([\d]{3})\&#47;([\d]{3})([\d]{3}).png$" &#47;$1&#47;$2&#47;00$3&#47;$4&#47;$5&#47;$6.png break;</p>
<p>		# 5 char X<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{2})([\d]{3})\&#47;([\d]{1}).png$" &#47;$1&#47;$2&#47;0$3&#47;$4&#47;000&#47;00$5.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{2})([\d]{3})\&#47;([\d]{2}).png$" &#47;$1&#47;$2&#47;0$3&#47;$4&#47;000&#47;0$5.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{2})([\d]{3})\&#47;([\d]{3}).png$" &#47;$1&#47;$2&#47;0$3&#47;$4&#47;000&#47;$5.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{2})([\d]{3})\&#47;([\d]{1})([\d]{3}).png$" &#47;$1&#47;$2&#47;0$3&#47;$4&#47;00$5&#47;$6.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{2})([\d]{3})\&#47;([\d]{2})([\d]{3}).png$" &#47;$1&#47;$2&#47;0$3&#47;$4&#47;0$5&#47;$6.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{2})([\d]{3})\&#47;([\d]{3})([\d]{3}).png$" &#47;$1&#47;$2&#47;0$3&#47;$4&#47;$5&#47;$6.png break;</p>
<p>		# 6 char X<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{3})([\d]{3})\&#47;([\d]{1}).png$" &#47;$1&#47;$2&#47;$3&#47;$4&#47;000&#47;00$5.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{3})([\d]{3})\&#47;([\d]{2}).png$" &#47;$1&#47;$2&#47;$3&#47;$4&#47;000&#47;0$5.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{3})([\d]{3})\&#47;([\d]{3}).png$" &#47;$1&#47;$2&#47;$3&#47;$4&#47;000&#47;$5.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{3})([\d]{3})\&#47;([\d]{1})([\d]{3}).png$" &#47;$1&#47;$2&#47;$3&#47;$4&#47;00$5&#47;$6.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{3})([\d]{3})\&#47;([\d]{2})([\d]{3}).png$" &#47;$1&#47;$2&#47;$3&#47;$4&#47;0$5&#47;$6.png break;<br />
		rewrite "^\&#47;tiles\&#47;([\w\-]+)\&#47;([\d]+)\&#47;([\d]{3})([\d]{3})\&#47;([\d]{3})([\d]{3}).png$" &#47;$1&#47;$2&#47;$3&#47;$4&#47;$5&#47;$6.png break;</p>
<p>		# Try to serve the file from the disk. If that doesn't work, pass through the request via the proxy<br />
		try_files $uri @tilestache;<br />
	}&lt;&#47;pre&gt;<br />
This mountain of rewrite lines will rewrite the request URL to the filesystem format, then look for tiles in the filesystem tree starting at <code>&#47;osm&#47;cache&lt;&#47;code&gt;. The last line tells NGINX to look for the rewritten URL, then if the file is not found, to send the request to the <code>@tilestache;&lt;&#47;code&gt; location block, which looks like this:
<pre class="lang:default highlight:0 decode:true " title="Proxy NGINX block">	 location @tilestache {
<p>		# Rewrite back to standard OSM form<br />
		rewrite ^(.*)$ $originaluri break;<br />
		add_header X-Static miss;<br />
		proxy_pass http:&#47;&#47;127.0.0.1:8080;<br />
		proxy_set_header Host $http_host;<br />
	}&lt;&#47;pre&gt;<br />
That location block proxies the request to the GUnicorn server listening on localhost:8080.</p>
<p>This seems to be working great. NGINX is far faster in serving static assets, and if all of the worker TileStache processes are busy rendering, the cached zoom levels of the map work fine!</p>
</pre></code></code></p></pre></code></code></code></code></code></code></p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/08/openstreetmaps-rising-popularity">
        OpenStreetMap's rising popularity
      </a>
    </h1>

    <span class="post-date">28 Aug 2012</span>

    <p><a href="http:&#47;&#47;arstechnica.com&#47;business&#47;2012&#47;08&#47;craigslist-is-on-board-openstreetmap-continues-soaring-to-new-heights&#47;">Craigslist is on board: OpenStreetMap soars to new heights&lt;&#47;a&gt;
<p>Craigslist is now using OpenStreetMap for showing the location of apartment listings! This is great for two reasons. First, looking for apartments will become much easier on Craigslist. Second, it's validation that OpenStreetMap's dataset is hugely valuable and robust enough for commercial use. Hopefully, I'll be rolling out my OpenStreetMap project within the next week or so. The project is a re-rendering of the basic slippy map with topographic lines and hiking trails taking more&nbsp;prominence. More to come!</p>
</a></p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2012/08/backbone-js-thankfully-a-great-mvc-framework-for-the-frontend">
        Backbone.js: Thankfully, a great MVC framework for the frontend
      </a>
    </h1>

    <span class="post-date">28 Aug 2012</span>

    <h2>Frameworks, frameworks...&lt;&#47;h2&gt;<br />
On the backend, web development frameworks have been growing quickly in popularity. Rails, Django, CakePHP, and others are popular because they save developers a ton of time. Someone once said that a good developer is a lazy developer, and frameworks enable developers to kick back with a Corona on a beach (well, not quite, but close) by making a lot of the architectural decisions for the developer. Rails is a great example of this, with a clear MVC structure, preset file system&nbsp;hierarchy, and even database schema conventions. If you were coding a site in pure Ruby, you'd need to make all of these decision yourself.
<p>While backend frameworks are really popular, there has been a dearth of good choices in front end frameworks. As web apps are moving more processing to client-side Javascript, this was becoming a growing problem.</p>
<h2>The front-end Javascript jungle&lt;&#47;h2&gt;<br />
Front-end javascript tends to be a huge mess of jQuery callbacks, DOM elements stuffed with extra object properties, and a polluted root <code>window&lt;&#47;code&gt; object. As client-side applications are get larger, this is completely unsustainable. It makes code hard to maintain, hard to understand, and un-testable with unit testing libraries. Backbone.js greatly helps with all of these issues.
<h2>Enter Backbone.js&lt;&#47;h2&gt;<br />
Backbone is a minimalist MVC framework for Javascript. It adds models and collections with persistance code that works well with JSON REST APIs, as well as views that automatically re-render on model updates and controllers that handle hash-bang URLs or HTML5 <code>pushState&lt;&#47;code&gt;.
<p>All of this comes in 4KB of minified Javascript that ties in with jQuery, Underscore, or any other Javascript library.</p>
<h2>Backbone dos and don'ts&lt;&#47;h2&gt;<br />
I'm currently working on a small side project to brush up on some Javascript coding, and decided to use Backbone as a front-end framework (I'm using Rails on the backend). Here's some brief notes from a my first impressions:
<p><strong>Do&lt;&#47;strong&gt;
<ul>
<li>Put most of your front-end application (or business) logic in the models. This is basically the same thing you would do with a MVC app on the server.&lt;&#47;li&gt;
<li>Use a templating library. Underscore.js has a pretty decent <code>_.template()&lt;&#47;code&gt; function. HTML in really clutters your Javascript code.&lt;&#47;li&gt;
<li>Try using the Rails asset pipeline or some other way to minify and compile your JS. This way, you can spread your Backbone code out into many files. I tended to use a folder&nbsp;hierarchy&nbsp;similar to Rails (folders for models, collections, controllers, and views).&lt;&#47;li&gt;<br />
&lt;&#47;ul&gt;<br />
<strong>Don't&lt;&#47;strong&gt;
<ul>
<li>Put much logic in your views. It is&nbsp;<em>very&lt;&#47;em&gt;&nbsp;hard to debug view code because the function that renders the view is typically created&nbsp;programmatically&nbsp;by the templating library.&lt;&#47;li&gt;
<li>Don't prematurely optimize your view code. The easiest way to render a view is to just create an HTML fragment from a templating library then insert it into the DOM with jQuery. This is fine for most cases. You can also manipulate the DOM by changing the inner text of elements on a view re-render, which might be faster but often isn't worth the extra work.&lt;&#47;li&gt;<br />
&lt;&#47;ul&gt;
</li></em></li></ul></strong></li></code></li></li></ul></strong></p></h2></code></h2></code></h2></h2>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page12">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page10">Newer</a>
    
  
</div>
    </div>

    
  </body>
</html>
