<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Andy Fiedler &middot; 
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha256-3dkvEK0WLHRJ7/Csr0BZjAWxERc5WH7bdeUya2aXxdU= sha512-+L4yy6FRcDGbXJ9mPG8MT/3UCDzwR9gPeyFNMCtInsol++5m3bk2bXWKdZjvybmohrAsn3Ua5x8gfLnbE1YkOg==" crossorigin="anonymous">

  <!-- Icons -->

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- JS -->
  <script>
    // Picture element HTML5 shiv
    document.createElement( "picture" );
  </script>
  <script async src="/public/js/picturefill.min.js"></script>
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Andy Fiedler
        </a>
      </h1>
      <p class="lead"></p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
            
              <a class="sidebar-nav-item" href="/projects/">Projects</a>
            
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

    </nav>

    <div class="sidebar-footer">
      <p>&copy; 2016 <a href="https://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC</a>.</p>
    </div>
  </div>
</div>


    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2015/03/two-new-cool-tools-for-technology-consultants">
        Two Cool Tools for Technology Consultants
      </a>
    </h1>

    <span class="post-date">06 Mar 2015</span>

    <h4>1) InVision and Sketch</h4>
<p>I’ve been making a lot of simple prototypes in the last few weeks, and the combination of tools that has been working best for me is <a href="http://bohemiancoding.com/sketch/" target="_blank">Sketch 3</a> and <a href="http://www.invisionapp.com/" target="_blank">InVision</a>. Sketch is a simple drawing program like Illustrator that you can use to make mockups. It allows you to have one file with multiple pages, which you can use for multiple screens in your app.</p>

<p>InVision is a very simple online tool to create clickable prototypes. There are lots of these tools, and here is a good comparison, but for me, InVision has been working best because it is very simple. The way InVision works is you upload a bunch of screens and then draw boxes on them that become “hotlinks” to navigate to other screens. You cannot make more complex interactions, like with a tool like Axure, but for the simple prototypes I have been doing, this is all I need. You can learn to use InVision in about 10 minutes, while it took me 3-4 hours to figure out what the heck was going with Axure (not to knock Axure; it’s very powerful and is the right tool for the job sometimes).</p>

<p>The cool thing with the pair of InVision and Sketch is that you can just drag and drop your Sketch file into InVision, and InVision will create or <em>update</em> your screens. That means your revision workflow is very easy: make or update drawings in Sketch → save the file → drag the file to InVision.</p>

<picture>
    <source srcset="/generated/wp/uploads/2015/03/Screen-Shot-2015-03-06-at-10.10.32-AM-602by175-80e753.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2015/03/Screen-Shot-2015-03-06-at-10.10.32-AM-602by175-80e753.png" media="(min-width: 40em)" />
    <source srcset="/generated/wp/uploads/2015/03/Screen-Shot-2015-03-06-at-10.10.32-AM-602by175-80e753.png" media="(min-width: 30em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 30em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2015/03/Screen-Shot-2015-03-06-at-10.10.32-AM-450by131-80e753.png" media="(min-width: 30em)" />
    <source srcset="/generated/wp/uploads/2015/03/Screen-Shot-2015-03-06-at-10.10.32-AM-306by175-80e753.png" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2015/03/Screen-Shot-2015-03-06-at-10.10.32-AM-306by175-80e753.png" />
    <img src="/generated/wp/uploads/2015/03/Screen-Shot-2015-03-06-at-10.10.32-AM-306by175-80e753.png" class="blog-full" itemprop="image" />
  </picture>

<p> </p>
<h4>2) IPython, IRuby, Jupyter</h4>
<p>If you have ever used a REPL and wished it had more of a GUI, you should definitely check out <a href="http://ipython.org/" target="_blank">IPython</a> or <a href="https://github.com/minad/iruby" target="_blank">IRuby</a> (and the upcoming project <a href="http://jupyter.org/" target="_blank">Jupyter</a>). I used IPython in the past, but I’ve been mostly coding Ruby recently. I didn’t realize that there is a very good Ruby counterpart called IRuby that is extremely powerful.</p>

<p>It turns out that IPython is morphing into Jupyter, which aims to be language-agnostic. This could be very cool: think IPython for NodeJS, R, or other languages, and more front-ends that work with any language!</p>

<picture>
    <source srcset="/generated/wp/uploads/2015/03/Screen-Shot-2015-03-06-at-10.14.12-AM-643by391-c7253b.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2015/03/Screen-Shot-2015-03-06-at-10.14.12-AM-643by391-c7253b.png" media="(min-width: 40em)" />
    <source srcset="/generated/wp/uploads/2015/03/Screen-Shot-2015-03-06-at-10.14.12-AM-643by391-c7253b.png" media="(min-width: 30em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 30em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2015/03/Screen-Shot-2015-03-06-at-10.14.12-AM-450by274-c7253b.png" media="(min-width: 30em)" />
    <source srcset="/generated/wp/uploads/2015/03/Screen-Shot-2015-03-06-at-10.14.12-AM-525by300-c7253b.png" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2015/03/Screen-Shot-2015-03-06-at-10.14.12-AM-350by200-c7253b.png" />
    <img src="/generated/wp/uploads/2015/03/Screen-Shot-2015-03-06-at-10.14.12-AM-350by200-c7253b.png" class="blog-full" itemprop="image" />
  </picture>


  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2015/02/hacking-sleep">
        Hacking Sleep
      </a>
    </h1>

    <span class="post-date">27 Feb 2015</span>

    <p>I’ve been hearing more and more about the importance of sleep, so as part of trying to be healthier in general I decided to see what I could do to sleep better. A lot of the stuff I tried is based on Tim Ferriss’s <a href="http://www.amazon.com/The-4-Hour-Body-Incredible-Superhuman/dp/0307704610"><em>Four Hour Body</em></a>, and I’d definitely recommend the chapter on sleep to anyone who is interested in hacking theirs, too.</p>

<p>I organized these by what I think worked the best for me, but since I tried a lot of things at once, it’s hard to tease out the differences.</p>

<h2 id="make-your-bedroom-as-dark-as-possible">Make your bedroom as dark as possible</h2>
<p>My apartment is in a historic building, so the facade is lit up at night. While it looks impressive, it makes my bedroom bright even with blackout curtains. What I did to fix this was unfurl a blackout curtain and tack it to the edges of the window so there is practically no light that comes in. By no light, I mean I cannot even see my hand in front of my face. It does not look great, but it works!</p>

<p>Try this first: remove all electronics with lights (even small LEDs) and black out your windows. Use a heavy blanket or aluminum foil and tape. It will look terrible, but if it helps, you can invest in better curtains later.</p>

<h2 id="test-66-70f-degrees-as-your-bedroom-temperature-with-a-thin-blanket">Test 66-70F degrees as your bedroom temperature, with a thin blanket</h2>
<p>This is from the <em>Four Hour Body</em> and it really made a big difference for me. 64 degrees and I’ll wake up shivering, 72 degrees and I’ll sweat and wake up mildly dehydrated. Try 68 with a sheet and maybe a light blanket.</p>

<p>Also, thermostats can be widely inaccurate so you might want to get a more accurate thermometer to test this. For example, if I set my thermostat to 65 degrees, its actually 72 in my bedroom. Try <a href="http://www.amazon.com/gp/product/B0013BKDO8">this one</a> that I was using for a few months. It doesn’t really seem to help except maybe on the margins in the darkest days of winter.</p>

<h2 id="humidity-level-was-more-important-than-i-thought">Humidity level was more important than I thought</h2>

<p>I went skiing in the mountains a few weeks ago and got a cold due to the very dry air. I also slept really poorly. I thought - maybe humidity is screwing up my sleep at home, too.</p>

<p>I had a humidifier that I never used, so I decided to try it. Turns out 40-45% relative humidity is ideal. This is also a narrow band like temperature. Below 40% and I’ll wake up with a dry throat and over 50% and everything feels somewhat damp in the morning. I actually sleep pretty well at 50-55% humidity, but I’m concerned about mold growing at that high of a level.</p>

<h2 id="eat-almond-butter-on-a-carrot-before-bed">Eat almond butter on a carrot before bed</h2>

<p>This idea is also from the <em>Four Hour Body</em>. A lot times when I woke up feeling sluggish in the morning, I’d feel better after eating breakfast. I figured this was definitely blood sugar related, so I tried another 4HB suggestion-almond butter before bed.</p>

<p>This worked well and mostly eliminated that groggy mornings. I found that the easiest way to do this was to buy a bag of carrots and a jar of almond butter. Eat one to two carrots, “double dipping” in the almond butter so you get the equivalent of three to four tablespoons. The carrots are great because there will be no spoons or plates to clean up, and takes less than 5 minutes.</p>

<h2 id="things-that-havent-caused-much-of-a-difference-for-me">Things that haven’t caused much of a difference for me</h2>

<ul>
	<li class="p1"><span class="s1">Screen time before bed. I have <a href="http://justgetflux.com" target="_blank">f.lux</a> on my Mac and similar apps on my phone and tablet, so this might be a different story if I didn't have those.</span></li>
	<li class="p1"><span class="s1">Melatonin doesn't seem to do much for me, though I sometimes take it when traveling for jet-lag and it helps a bit.</span></li>
	<li class="p1"><span class="s1">I also have a <a href="http://www.amazon.com/Philips-goLITE-BLU-Therapy-Device/dp/B001I45XL8/" target="_blank">Phillips goLITE</a> that I was using for a few months. It doesn't really seem to help except maybe on the margins in the darkest days of winter.</span></li>
</ul>

<p><a href="https://www.flickr.com/photos/dickuhne/199054423/in/photolist-iAcWP-jn8Hjn-7HvdbW-o4nN8L-cXNgZU-7cyEQM-fVDUvo-Dgtvk-pYQdRY-8aq4B8-cVkvq7-kp9UX-fw47vw-f1LrTg-pNUyW8-bZ7Mpq-nEgVyd-me1fy5-b76AHP-pfZUat-cjAh2s-5HjMW-8raCHf-q69jjW-a4YHuh-oWAUUB-e62Mw3-acsdfN-p9shiv-dqCukQ-k62uiJ-9F5FKo-4Y3Jov-i9qpnK-6ffj9w-gmSJGZ-8VXxBw-4tFGaf-5BXU7j-9SLRbu-9vPCWX-o1DZMz-Ddu9-8yKgwx-iWZh1Q-awWS-6bHnK-q1Zc6d-d9XKG-57CE2r" target="_blank">Photo credit: punch drunk</a></p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2015/02/business-model-canvas-for-social-enterprises">
        Business Model Canvas for Social Enterprises
      </a>
    </h1>

    <span class="post-date">06 Feb 2015</span>

    <p>Business model generation is <em>difficult</em>. Despite the startup renaissance currently going on, the battlefields of the marketplace are littered with seemed-great-at-the-time business ideas that were  not so great once they launched. The Lean Startup idea embraces this, teaching entrepreneurs to iterate quickly to find “product-market fit” before they run out of cash and need to get a job or go back to the coffers of their investors. In the Lean Startup school of thought, business models are sketched out on a Business Model Canvas (BMC) that is one page and can be filled out in half an hour or less. The engineer in me loves this idea. It embraces the Keep It Simple, Stupid ethos that underlies the most elegant engineering solutions.</p>

<p>The real world is not so simple, however. One wrinkle to the Lean Startup model I’ve been working on recently with a client is how to adapt it to a double bottom line business. A double-bottom line business is one where financial profit is not the sole goal of the owners. Talk about making an already difficult process more challenging! To solve this problem, I decided if we’re not going to Keep it Simple, let’s at least not make it too much more complex! I thought, how can I modify the traditional Lean Startup BMC to reflect a social enterprise with as little additional complexity as possible.</p>

<p>In some of the literature on social entrepreneurship and impact investing, there is the concept of a concessionary investment. <a href="http://www.ssireview.org/up_for_debate/article/impact_investing" target="_blank">A concessionary investment is, in effect, a grant</a> because the investor is sacrificing a market-rate return in order to support some kind of social return on his investment. This could be providing a loan at a lower rate of interest, given the business’s credit risk, or it could be providing risk capital (equity) to a business that is far more financially risky that a traditional startup (which are risky enough!).</p>

<p>I like this approach to thinking of impact investing because is puts just one more constraint on a traditional business model: the fact that the business is capitalized by an investor who wants a financial return in addition to some kind of social return. This keeps the engineer in my happy, because as any good engineer knows, if you put too many constraints on a problem you will get no solution! This is how I decided to reflect the added complexity of a double bottom line business in the BMC.</p>

<p>I added two new boxes to the traditional BMC to capture this. The first is <b>social good</b>, which is non-financial value you are creating for your customers or society at large. The second is <b>capitalization</b>, which should describe how your impact investor (which could be yourself, if you are bootstrapping) will measure his social impact.</p>

<p>This canvas worked well for us, so I wanted to share it in case anyone else is working on a similar problem. If you’ve applied Lean Startup methodologies to a social enterprise, or if this was helpful to you, please let me know in the comments.</p>

<picture>
    <source srcset="/generated/wp/uploads/2015/02/Business-Model-Sketch-Social-Enterprise-1050by679-531932.png" media="(min-width: 40em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 40em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2015/02/Business-Model-Sketch-Social-Enterprise-700by453-531932.png" media="(min-width: 40em)" />
    <source srcset="/generated/wp/uploads/2015/02/Business-Model-Sketch-Social-Enterprise-675by437-531932.png" media="(min-width: 30em) and (-webkit-min-device-pixel-ratio: 1.5), (min-width: 30em) and (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2015/02/Business-Model-Sketch-Social-Enterprise-450by291-531932.png" media="(min-width: 30em)" />
    <source srcset="/generated/wp/uploads/2015/02/Business-Model-Sketch-Social-Enterprise-525by300-531932.png" media="(-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)" />
    <source srcset="/generated/wp/uploads/2015/02/Business-Model-Sketch-Social-Enterprise-350by200-531932.png" />
    <img src="/generated/wp/uploads/2015/02/Business-Model-Sketch-Social-Enterprise-350by200-531932.png" class="blog-full" itemprop="image" />
  </picture>

<p>You can also access a <a title="Google Drive Version" href="https://docs.google.com/drawings/d/1J6QyXw0Cjz6WdwU7IIA1YtqooPyOH0_FlLY9Vn1_LVc/edit?usp=sharing" target="_blank">version on Google Drive</a> or a <a title="Google Drive Version (Blank)" href="https://docs.google.com/drawings/d/1WG8nuo2RMbyxZ4ggdM0nChBXdZRbSnDgoO0KwpuxLdg/copy" target="_blank">blank version</a> (note: make a copy of the blank version to edit yourself).</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2014/11/simple-regex-to-match-options-symbology-initiative-tickers">
        Simple Regex to Match Options Symbology Initiative Tickers
      </a>
    </h1>

    <span class="post-date">18 Nov 2014</span>

    <p>This is a simple regular expression to match Options Symbology Initiative (OSI) tickers. It has been tested in C#:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">var</span> <span class="n">ticker</span> <span class="p">=</span> <span class="s">"AAPL  131101C00470000"</span><span class="p">;</span>
<span class="n">var</span> <span class="n">OSITicker</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Regex</span><span class="p">(</span><span class="s">@"(.{6})(\d{2})(0\d|1[0-2])(0[1-9]|[12]\d|3[01])(C|P)(\d{8})"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">match</span> <span class="p">=</span> <span class="n">OSITicker</span><span class="p">.</span><span class="nf">Match</span><span class="p">(</span><span class="n">ticker</span><span class="p">);</span>
<span class="n">var</span> <span class="n">underlying</span> <span class="p">=</span> <span class="n">match</span><span class="p">.</span><span class="n">Groups</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="nf">ToString</span><span class="p">().</span><span class="nf">Trim</span><span class="p">();</span>
<span class="n">var</span> <span class="n">expirationDate</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DateTime</span><span class="p">(</span>
     <span class="n">Int32</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="n">match</span><span class="p">.</span><span class="n">Groups</span><span class="p">[</span><span class="m">2</span><span class="p">].</span><span class="nf">ToString</span><span class="p">())</span> <span class="p">+</span> <span class="m">2000</span><span class="p">,</span>
     <span class="n">Int32</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="n">match</span><span class="p">.</span><span class="n">Groups</span><span class="p">[</span><span class="m">3</span><span class="p">].</span><span class="nf">ToString</span><span class="p">()),</span>
     <span class="n">Int32</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="n">match</span><span class="p">.</span><span class="n">Groups</span><span class="p">[</span><span class="m">4</span><span class="p">].</span><span class="nf">ToString</span><span class="p">()));</span>
<span class="n">var</span> <span class="n">isPut</span> <span class="p">=</span> <span class="p">(</span><span class="n">match</span><span class="p">.</span><span class="n">Groups</span><span class="p">[</span><span class="m">5</span><span class="p">].</span><span class="nf">ToString</span><span class="p">()</span> <span class="p">==</span> <span class="s">"P"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">strikePrice</span> <span class="p">=</span> <span class="n">Double</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="n">match</span><span class="p">.</span><span class="n">Groups</span><span class="p">[</span><span class="m">6</span><span class="p">].</span><span class="nf">ToString</span><span class="p">())</span> <span class="p">/</span> <span class="m">1000</span><span class="p">;</span>
</code></pre>
</div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2014/09/using-the-draft-oauth-assertion-grant-with-google">
        Using the Draft OAuth Assertion Grant with Google+
      </a>
    </h1>

    <span class="post-date">10 Sep 2014</span>

    <p>The IETF has been working on a <a href="https://tools.ietf.org/html/draft-ietf-oauth-assertions-17">new OAuth standard for “assertions”</a> which enables OAuth to work with other types of authentication systems. This can be used to allow users to authenticate with your API through Google+ or other third-party identity providers.</p>

<p>For example, let’s say you are developing a single-page Javascript app or a mobile app that uses both Google’s APIs as well as your own APIs. You’d like to have users authenticate with Google to obtain access to Google’s APIs, but then you’d also like your app to authenticate with your server to gain access to some additional resources. You’d like to not reinvent the wheel and use OAuth for your own API. You also implicitly trust Google to verify the user’s identity, so you don’t want the user to need to go through another OAuth flow just to use your API.</p>

<p>Assertion grants allow you to do this in a standards-compliant way. This is a draft standard that was just submitted in July of 2014, but for this simple use-case, it is already fairly usable.</p>
<h2>How Google+ handles sign in for "combination" apps (with both a client and a server)</h2>
<p>Google has <a href="https://developers.google.com/+/web/signin/server-side-flow#step_6_send_the_authorization_code_to_the_server">some great documentation on how to authenticate both a client and a server</a>, which is worth reading if you plan on implementing this. The gist of it is that first the client authenticates with Google through a OAuth popup or redirect. This gives the client both an access token and an access code. The code is then passed to the server to authenticate the backend.</p>

<p>This “passing the code to the backend step” is what OAuth assertion grants enable in a standards-compliant way.</p>
<h2>OAuth Assertion Grants</h2>
<p>The IETF Assertion Grant spec defines a way to define new grant types that are assertions of identity from third parties. An assertion grant looks like this (from the <a href="https://tools.ietf.org/html/draft-ietf-oauth-assertions-17#section-4.1">example in the spec</a>):</p>
<pre class="lang:js decode:true">{
   "grant_type": "urn:ietf:params:oauth:grant-type:saml2-bearer",
   "assertion": "PHNhbWxwOl...[omitted for brevity]...ZT4",
   "scope": ""
}</pre>
<p>Assertions are very similar to <a href="http://tools.ietf.org/html/rfc6749#section-4.3">Resource Owner Password Credential grants</a> in that they are passed as HTTP POSTs directly to the <code>/token</code> endpoint. The “grant_type” for an assertion must be a absolute URI that defines the assertion type, the “assertion” is a Base64-encoded string (using URL-safe encoding) that contains the actual asserrtion, and the “scope” is the same as other OAuth grant types.</p>
<h2>An OAuth Assertion Grant for Google+</h2>
<p>Since Google has not defined an assertion grant format for Google+ identity, I’ve decided to make one up! You can feel free to steal this format for your own apps.</p>
<pre class="lang:js decode:true">{
   "grant_type": "urn:googlepluscode",
   "assertion": "(see below)",
   "scope": "(specific to your app)"
}</pre>
<p>For my Google+ assertion grant, I’ve just chose “urn:googlepluscode” as the URL. This is arbitrary, but Google would need to standardize this so we currently don’t have a better option. For the assertion itself, I use a Base64-encoded, url-safe version of this JSON:</p>
<pre lanng:js="" decode:true="">{
   "code": "(access code provided by the front-end when it authenticates with Google)",
   "google_plus_user_id": "(Google+ user ID)"
}</pre>
<h2>Verifying the Google+ assertion grant</h2>
<p>When the backend receives the Google+ assertion grant, it should do these steps to verify it:</p>
<ol>
	<li>Convert the access code into an access token</li>
	<li>Call the <code>/oauth/tokeninfo</code> endpoint with the access token from the previous step</li>
	<li>In the response from the <code>tokeninfo</code> endpoint, confirm these things:
<ol>
	<li>The <code>user_id</code> matches the <code>google_plus_user_id</code> in the assertion</li>
	<li>The <code>issued_to</code> from the <code>tokeninfo</code> response matches the <code>client_id</code> of your application (both the front-end and back-end share the same <code>client_id</code>.</li>
</ol>
</li>
</ol>
<p>Stay tuned for a future post on how to implement this with Rails and <a href="https://github.com/doorkeeper-gem/doorkeeper">Doorkeeper</a>!</p>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page9">Older</a>
  
  
    
      <a class="pagination-item newer" href="/page7">Newer</a>
    
  
</div>
    </div>

    
  </body>
</html>
